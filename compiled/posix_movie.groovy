{def rO = System.getProperty("user.name");def myl = "/run/media/${rO}";def FR = "$myl/Videos";def WKb = [home,"$myl/Data","$myl/Music","$myl/Videos","$myl/Games","$myl/Books"].collect { it as File }.sort { kGf, Tdv ->  kGf.exists() <=> Tdv.exists() ?: kGf.diskSpace <=> Tdv.diskSpace }.last();def Xx = FR ? FR : WKb;"$Xx/"}{"Videos/"}{def He = ["boys' love (bl)", "gay theme", "yaoi", "yuri", "lesbian", "hentai","hentai", "sex", "lgbt", "explicit", "adult animation", "adult content"];def cmu = [[271026, "TheMovieDB::TV"],[220118, "TheMovieDB::TV"]];def Wqm = any { info.adult } { false };def ng = cmu.find { it[0] == id && it[1] == info.ner } != null;def DS = info.Keywords.findAll { it in He } || ng || Wqm;DS ? "R18+ " : ""}{def aN = ["CN", "JP", "KR", "KP", "TW", "HK"];def ns = ["aeni", "donghua", "anime"];def dA = any {anime} || info.Keywords.findAll { it in ns } || (aN.contains(country) && genres =~ /Animation/);dA ? "Anime Movies/" : "Movies/"}{def Cvp = [[s_O: 68854, UW: "From Me to You", fNh: "TheMovieDB::TV"],[s_O: 229743, UW: "VTuber Legend", fNh: "TheMovieDB::TV"],[s_O: 234538, UW: "Demon Lord 2099", fNh: "TheMovieDB::TV"],[s_O: 237045, UW: "Cherry Magic!", fNh: "TheMovieDB::TV"],[s_O: 240633, UW: "A Journey Through Another World", fNh: "TheMovieDB::TV"],[s_O: 245285, UW: "Failure Frame", fNh: "TheMovieDB::TV"],[s_O: 271026, UW: "Taisho Era Contract Marriage", fNh: "TheMovieDB::TV"]];def ner = any { info.ner } { "IMDb" };def Vo = n;Cvp.each {if (it.s_O == id && it.fNh == ner) {Vo = it.UW}};def rn = ['\\', '/', ':', '*', '?', '"', '<', '>', '|'];def DV = Vo.replaceAll(rn.collect { "\\" + it }.join('|'), '');DV = DV.replaceAll(/(\s|\.)*$/, '');DV}{" ("}{y}{")"}{def KV = any { info.ner } { "IMDb" };def tTl = ["TheMovieDB": "tmdbid","TheTVDB::Movie": "tvdbid","IMDb": "imdbid"];def fT_ = tTl[KV];def ma = KV == "IMDb" ? "tt${id}" : id;" [${fT_}-${ma}]/"}{def Zc = ["Alqanime","BlackLuster","NanDesuKa","ToonsHub","Tsundere-Raws"];def SIF = Zc.find { wiH ->  fn.contains(wiH) } ?: "";def UM = any {(fn =~ /^\[(.*?)\]/)[0][1]} {SIF} {group} {""};UM ? "[$UM] " : ""}{def Cvp = [[s_O: 68854, UW: "From Me to You", fNh: "TheMovieDB::TV"],[s_O: 229743, UW: "VTuber Legend", fNh: "TheMovieDB::TV"],[s_O: 234538, UW: "Demon Lord 2099", fNh: "TheMovieDB::TV"],[s_O: 237045, UW: "Cherry Magic!", fNh: "TheMovieDB::TV"],[s_O: 240633, UW: "A Journey Through Another World", fNh: "TheMovieDB::TV"],[s_O: 245285, UW: "Failure Frame", fNh: "TheMovieDB::TV"],[s_O: 271026, UW: "Taisho Era Contract Marriage", fNh: "TheMovieDB::TV"]];def ner = any { info.ner } { "IMDb" };def Vo = n;Cvp.each {if (it.s_O == id && it.fNh == ner) {Vo = it.UW}};def rn = ['\\', '/', ':', '*', '?', '"', '<', '>', '|'];def DV = Vo.replaceAll(rn.collect { "\\" + it }.join('|'), '');DV = DV.replaceAll(/(\s|\.)*$/, '');DV}{" ("}{y}{")"} [{def zl = [[tB: "ABEMA", Un_: ["ABEMA"]],[tB: "Bilibili.tv", Un_: ["B-Global", "BiliIntl", "BILI"]],[tB: "Hulu", Un_: ["HULU"]],[tB: "MeWatch", Un_: ["MW.WEB-DL"]],[tB: "Netflix", Un_: ["NF.WEB-DL", "NF WEB"]],[tB: "Prime Video", Un_: ["AMZN"]],[tB: "TVer", Un_: ["TVER"]],[tB: "Shahid", Un_: ["SHAHID"]],[tB: "U-NEXT", Un_: ["UNEXT"]],[tB: "YouTube", Un_: ["YT.WEB-DL", "YOUTUBE", "YTB"]]];def xr = ["ASW", "Judas", "JRx7", "EMBER", "KawaSubs", "GuodongSubs"];def QB_ = ["Erai-raws", "SubsPlease"];def zfO = any {(fn =~ /^\[(.*?)\]/)[0][1]} {""};def ke = any {def IRz = zl.find { _B ->  _B.Un_.find { VVY ->  fn.contains(VVY) } }?.Un_.first() ?: "";IRz = IRz.replace(".WEB-DL", "");IRz ? "${IRz}.WEB-DL" : ""} {source} {xr.find { ip ->  group == ip || zfO == ip } ? "WEBRip" : ""} {def bas = QB_.find { Hp ->  group == Hp || zfO == Hp} ? "WEB-DL" : "";(source == "Erai-raws" && vcf.upper() == "HEVC") ? "WEBRip" : bas} {vs} {""};ke ? "$ke " : ""}{resolution} {vcf.upper()}{bitdepth ? " ${bitdepth}bit" : ""}, {ac} {af.format(8: 'DD+ 7.1',7: '6.1',6: 'DD 5.1',5: '5.0',3: '2.1',2: '2.0',1: '1.0',)}{def DY = " Dub";def kQ = audioLanguages.any { it.ISO3B == language.ISO3B } ? "" : DY;kQ = audioLanguages.size() == 1 && audioLanguages.any { it.ISO3B == "und" } ? "" : kQ;kQ}{def nk = any { audioLanguages.size() } { 0 };def kQ = nk > 2 ? " MAud" : nk > 1 ? " DAud" : null;def OlQ = nk > 5 ? audioLanguages.take(5) : audioLanguages;kQ ? kQ + OlQ.joining(" ", " (", "").upper() + (nk > 5 ? " ...)" : ")") : ""}{def UVl = any { textLanguages.size() } { 0 };def kQ = UVl > 2 ? ", MSub" : UVl > 1 ? ", DSub" : null;def OlQ = UVl > 5 ? textLanguages.take(5) : textLanguages;kQ ? kQ + OlQ.joining(" ", " (", "").upper() + (UVl > 5 ? " ...)" : ")") : ""}][{crc32.upper()}]{ext =~ /(ass|srt|ssa|vtt)/ ? '.' + lang.ISO3B : ""}{ext =~ /jp(?:e)?g|png/ ? "-thumb" : ""}