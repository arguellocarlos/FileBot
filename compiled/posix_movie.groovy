{def uuu = System.getProperty("user.name");def fPk = "/run/media/${uuu}";def RE = "$fPk/Videos";def Kp = [home,"$fPk/Data","$fPk/Music","$fPk/Videos","$fPk/Games","$fPk/Books"].collect { it as File }.sort { MS, GA ->  MS.exists() <=> GA.exists() ?: MS.diskSpace <=> GA.diskSpace }.last();def Vo = RE ? RE : Kp;"$Vo/"}{"Videos/"}{def jKh = ["boys' love (bl)", "gay theme", "yaoi", "yuri", "lesbian", "hentai","hentai", "sex", "lgbt", "explicit", "adult animation", "adult content"];def bhB = "TheMovieDB::TV";def Rdn = [[271026, bhB],[220118, bhB]];def JO = [[236530, bhB]];def Sg = any { info.Sg } { "IMDb" };def Tze = Sg == "IMDb" ? "tt${id}" : id;def uil = any { info.adult } { false };def ld = Rdn.find { it[0] == Tze && it[1] == Sg } != null;def hjY = JO.find { it[0] == Tze && it[1] == Sg } != null;def bB = info.Keywords.findAll { it in jKh } || ld || uil;bB = hjY ? false : bB;bB ? "R18+ " : ""}{def uCN = ["CN", "JP", "KR", "KP", "TW", "HK"];def mBB = ["aeni", "donghua", "anime"];def DLg = any {anime} || info.Keywords.findAll { it in mBB } || (uCN.contains(country) && genres =~ /Animation/);DLg ? "Anime Movies/" : "Movies/"}{def bhB = "TheMovieDB::TV";def VKW = [[SZ: 68854, iOL: "From Me to You", yv: bhB],[SZ: 229743, iOL: "VTuber Legend", yv: bhB],[SZ: 234538, iOL: "Demon Lord 2099", yv: bhB],[SZ: 237045, iOL: "Cherry Magic!", yv: bhB],[SZ: 240633, iOL: "A Journey Through Another World", yv: bhB],[SZ: 245285, iOL: "Failure Frame", yv: bhB],[SZ: 271026, iOL: "Taisho Era Contract Marriage", yv: bhB]];def Sg = any { info.Sg } { "IMDb" };def Tze = Sg == "IMDb" ? "tt${id}" : id;def nLU = n;VKW.each {if (it.SZ == Tze && it.yv == Sg) {nLU = it.iOL}};def Wgj = ['\\', '/', ':', '*', '?', '"', '<', '>', '|'];def zyZ = nLU.replaceAll(Wgj.collect { "\\" + it }.join('|'), '');zyZ = zyZ.replaceAll(/(\s|\.)*$/, '');zyZ}{" ("}{y}{")"}{def _wT = any { info.Sg } { "IMDb" };def nig = ["TheMovieDB": "tmdbid","TheTVDB::Movie": "tvdbid","IMDb": "imdbid"];def KQI = nig[_wT];def Tze = _wT == "IMDb" ? "tt${id}" : id;" [${KQI}-${Tze}]/"}{def b_N = ["Alqanime","BlackLuster","NanDesuKa","ToonsHub","Tsundere-Raws"];def KM = b_N.find { GK ->  fn.contains(GK) } ?: "";def pR = any {(fn =~ /^\[(.*?)\]/)[0][1]} {KM} {group} {""};pR ? "[$pR] " : ""}{def bhB = "TheMovieDB::TV";def VKW = [[SZ: 68854, iOL: "From Me to You", yv: bhB],[SZ: 229743, iOL: "VTuber Legend", yv: bhB],[SZ: 234538, iOL: "Demon Lord 2099", yv: bhB],[SZ: 237045, iOL: "Cherry Magic!", yv: bhB],[SZ: 240633, iOL: "A Journey Through Another World", yv: bhB],[SZ: 245285, iOL: "Failure Frame", yv: bhB],[SZ: 271026, iOL: "Taisho Era Contract Marriage", yv: bhB]];def Sg = any { info.Sg } { "IMDb" };def Tze = Sg == "IMDb" ? "tt${id}" : id;def nLU = n;VKW.each {if (it.SZ == Tze && it.yv == Sg) {nLU = it.iOL}};def Wgj = ['\\', '/', ':', '*', '?', '"', '<', '>', '|'];def zyZ = nLU.replaceAll(Wgj.collect { "\\" + it }.join('|'), '');zyZ = zyZ.replaceAll(/(\s|\.)*$/, '');zyZ}{" ("}{y}{")"}{" ["}{def ULp = [[enT: "ABEMA", eF: ["ABEMA"]],[enT: "Bilibili.tv", eF: ["B-Global", "BiliIntl", "BILI"]],[enT: "Hulu", eF: ["HULU"]],[enT: "MeWatch", eF: ["MW.WEB-DL"]],[enT: "Netflix", eF: ["NF.WEB-DL", "NF WEB"]],[enT: "Prime Video", eF: ["AMZN"]],[enT: "TVer", eF: ["TVER"]],[enT: "Shahid", eF: ["SHAHID"]],[enT: "U-NEXT", eF: ["UNEXT"]],[enT: "YouTube", eF: ["YT.WEB-DL", "YOUTUBE", "YTB"]]];def PJ = ["ASW", "Judas", "JRx7", "EMBER", "KawaSubs", "GuodongSubs"];def QF = ["Erai-raws", "SubsPlease"];def yB = any {(fn =~ /^\[(.*?)\]/)[0][1]} {""};def uLL = any {def cd = ULp.find { NWr ->  NWr.eF.find { vJ ->  fn.contains(vJ) } }?.eF.first() ?: "";cd = cd.replace(".WEB-DL", "");cd ? "${cd}.WEB-DL" : ""} {source} {PJ.find { cdv ->  group == cdv || yB == cdv } ? "WEBRip" : ""} {def YA = QF.find { azA ->  group == azA || yB == azA} ? "WEB-DL" : "";(source == "Erai-raws" && vcf.upper() == "HEVC") ? "WEBRip" : YA} {vs} {""};uLL ? "$uLL " : ""}{resolution} {vcf.upper()}{bitdepth ? " ${bitdepth}bit" : ""}, {ac}{" "}{af.format(8: 'DD+ 7.1',7: '6.1',6: 'DD 5.1',5: '5.0',3: '2.1',2: '2.0',1: '1.0',)}{def UGz = " Dub";def Ifc = audioLanguages.any { it.ISO3B == language.ISO3B } ? "" : UGz;Ifc = audioLanguages.size() == 1 && audioLanguages.any { it.ISO3B == "und" } ? "" : Ifc;Ifc}{def jk = any { audioLanguages.size() } { 0 };def Ifc = jk > 2 ? " MAud" : jk > 1 ? " DAud" : null;def ZV = jk > 5 ? audioLanguages.take(5) : audioLanguages;Ifc ? Ifc + ZV.joining(" ", " (", "").upper() + (jk > 5 ? " ...)" : ")") : ""}{def AaL = any { textLanguages.size() } { 0 };def Ifc = AaL > 2 ? ", MSub" : AaL > 1 ? ", DSub" : null;def ZV = AaL > 5 ? textLanguages.take(5) : textLanguages;Ifc ? Ifc + ZV.joining(" ", " (", "").upper() + (AaL > 5 ? " ...)" : ")") : ""}{"]["}{crc32.upper()}{"]"}{ext =~ /(ass|srt|ssa|vtt)/ ? '.' + lang.ISO3B : ""}{ext =~ /jp(?:e)?g|png/ ? "-thumb" : ""}