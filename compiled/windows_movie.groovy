{def rl = "H:/";def RN = [home,"D:/","E:/","F:/","G:/","H:/"].collect { it as File }.sort { AbM, WY ->  AbM.exists() <=> WY.exists() ?: AbM.diskSpace <=> WY.diskSpace }.last();def vK = rl ? rl : RN;"$vK/"}{"Videos/"}{def Ca = ["boys' love (bl)", "gay theme", "yaoi", "yuri", "lesbian", "hentai","hentai", "sex", "lgbt", "explicit", "adult animation", "adult content"];def _jC = [[271026, "TheMovieDB::TV"],[220118, "TheMovieDB::TV"]];def Ffq = any { info.adult } { false };def fi = _jC.find { it[0] == id && it[1] == info.RrF } != null;def Qu = info.Keywords.findAll { it in Ca } || fi || Ffq;Qu ? "R18+ " : ""}{def bm = ["CN", "JP", "KR", "KP", "TW", "HK"];def hwF = ["aeni", "donghua", "anime"];def tq = any {anime} || info.Keywords.findAll { it in hwF } || (bm.contains(country) && genres =~ /Animation/);tq ? "Anime Movies/" : "Movies/"}{def jfd = [[dPC: 68854, at: "From Me to You", gzm: "TheMovieDB::TV"],[dPC: 229743, at: "VTuber Legend", gzm: "TheMovieDB::TV"],[dPC: 234538, at: "Demon Lord 2099", gzm: "TheMovieDB::TV"],[dPC: 237045, at: "Cherry Magic!", gzm: "TheMovieDB::TV"],[dPC: 240633, at: "A Journey Through Another World", gzm: "TheMovieDB::TV"],[dPC: 245285, at: "Failure Frame", gzm: "TheMovieDB::TV"],[dPC: 271026, at: "Taisho Era Contract Marriage", gzm: "TheMovieDB::TV"]];def RrF = any { info.RrF } { "IMDb" };def Nm = n;jfd.each {if (it.dPC == id && it.gzm == RrF) {Nm = it.at}};def Aa = ['\\', '/', ':', '*', '?', '"', '<', '>', '|'];def yd = Nm.replaceAll(Aa.collect { "\\" + it }.join('|'), '');yd = yd.replaceAll(/(\s|\.)*$/, '');yd}{" ("}{y}{")"}{def NO = any { info.RrF } { "IMDb" };def XUb = ["TheMovieDB": "tmdbid","TheTVDB::Movie": "tvdbid","IMDb": "imdbid"];def FPA = XUb[NO];def CjD = NO == "IMDb" ? "tt${id}" : id;" [${FPA}-${CjD}]/"}{def Yy = ["Alqanime","BlackLuster","NanDesuKa","ToonsHub","Tsundere-Raws"];def Akd = Yy.find { _ak ->  fn.contains(_ak) } ?: "";def ek = any {(fn =~ /^\[(.*?)\]/)[0][1]} {Akd} {group} {""};ek ? "[$ek] " : ""}{def jfd = [[dPC: 68854, at: "From Me to You", gzm: "TheMovieDB::TV"],[dPC: 229743, at: "VTuber Legend", gzm: "TheMovieDB::TV"],[dPC: 234538, at: "Demon Lord 2099", gzm: "TheMovieDB::TV"],[dPC: 237045, at: "Cherry Magic!", gzm: "TheMovieDB::TV"],[dPC: 240633, at: "A Journey Through Another World", gzm: "TheMovieDB::TV"],[dPC: 245285, at: "Failure Frame", gzm: "TheMovieDB::TV"],[dPC: 271026, at: "Taisho Era Contract Marriage", gzm: "TheMovieDB::TV"]];def RrF = any { info.RrF } { "IMDb" };def Nm = n;jfd.each {if (it.dPC == id && it.gzm == RrF) {Nm = it.at}};def Aa = ['\\', '/', ':', '*', '?', '"', '<', '>', '|'];def yd = Nm.replaceAll(Aa.collect { "\\" + it }.join('|'), '');yd = yd.replaceAll(/(\s|\.)*$/, '');yd}{" ("}{y}{")"} [{def o_ = [[gRE: "ABEMA", LV: ["ABEMA"]],[gRE: "Bilibili.tv", LV: ["B-Global", "BiliIntl", "BILI"]],[gRE: "Hulu", LV: ["HULU"]],[gRE: "MeWatch", LV: ["MW.WEB-DL"]],[gRE: "Netflix", LV: ["NF.WEB-DL", "NF WEB"]],[gRE: "Prime Video", LV: ["AMZN"]],[gRE: "TVer", LV: ["TVER"]],[gRE: "Shahid", LV: ["SHAHID"]],[gRE: "U-NEXT", LV: ["UNEXT"]],[gRE: "YouTube", LV: ["YT.WEB-DL", "YOUTUBE", "YTB"]]];def fNI = ["ASW", "Judas", "JRx7", "EMBER", "KawaSubs", "GuodongSubs"];def UTn = ["Erai-raws", "SubsPlease"];def Jy = any {(fn =~ /^\[(.*?)\]/)[0][1]} {""};def mf = any {def lkJ = o_.find { YMi ->  YMi.LV.find { Enp ->  fn.contains(Enp) } }?.LV.first() ?: "";lkJ = lkJ.replace(".WEB-DL", "");lkJ ? "${lkJ}.WEB-DL" : ""} {source} {fNI.find { coV ->  group == coV || Jy == coV } ? "WEBRip" : ""} {def Nbj = UTn.find { uhC ->  group == uhC || Jy == uhC} ? "WEB-DL" : "";(source == "Erai-raws" && vcf.upper() == "HEVC") ? "WEBRip" : Nbj} {vs} {""};mf ? "$mf " : ""}{resolution} {vcf.upper()}{bitdepth ? " ${bitdepth}bit" : ""}, {ac} {af.format(8: 'DD+ 7.1',7: '6.1',6: 'DD 5.1',5: '5.0',3: '2.1',2: '2.0',1: '1.0',)}{def Mb = " Dub";def GTP = audioLanguages.any { it.ISO3B == language.ISO3B } ? "" : Mb;GTP = audioLanguages.size() == 1 && audioLanguages.any { it.ISO3B == "und" } ? "" : GTP;GTP}{def cMY = any { audioLanguages.size() } { 0 };def GTP = cMY > 2 ? " MAud" : cMY > 1 ? " DAud" : null;def jRE = cMY > 5 ? audioLanguages.take(5) : audioLanguages;GTP ? GTP + jRE.joining(" ", " (", "").upper() + (cMY > 5 ? " ...)" : ")") : ""}{def dYx = any { textLanguages.size() } { 0 };def GTP = dYx > 2 ? ", MSub" : dYx > 1 ? ", DSub" : null;def jRE = dYx > 5 ? textLanguages.take(5) : textLanguages;GTP ? GTP + jRE.joining(" ", " (", "").upper() + (dYx > 5 ? " ...)" : ")") : ""}][{crc32.upper()}]{ext =~ /(ass|srt|ssa|vtt)/ ? '.' + lang.ISO3B : ""}{ext =~ /jp(?:e)?g|png/ ? "-thumb" : ""}