{def UC = { System.getProperty(it) };def NVC = UC("os.name").toLowerCase().contains("windows");def PkG = UC("user.name");def __B = "/run/media/${PkG}";def nn = NVC ? "H:/" : "$__B/Videos";def YH = [[Sq: "Books", NTh: "F:/", hW: "$__B/Books"],[Sq: "Data", NTh: "D:/", hW: "$__B/Data"],[Sq: "Games", NTh: "G:/", hW: "$__B/Games"],[Sq: "Music", NTh: "E:/", hW: "$__B/Music"],[Sq: "Videos", NTh: "H:/", hW: "$__B/Videos"]];def mWo = (YH.collect { it[NVC ? "NTh" : "hW"] as File }.sort { d_, gD ->  d_.exists() <=> gD.exists() ?: d_.diskSpace <=> gD.diskSpace }).last();def uy = nn ?: mWo;"$uy/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}