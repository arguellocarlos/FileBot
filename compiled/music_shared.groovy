{def AYA = { System.getProperty(it) };def zY = AYA("os.name").toLowerCase().contains("windows");def su = AYA("user.name");def EX = "/run/media/${su}";def PC = zY ? "H:/" : "$EX/Videos";def ky = [[Wmd: "Books", Q_: "F:/", wb_: "$EX/Books"],[Wmd: "Data", Q_: "D:/", wb_: "$EX/Data"],[Wmd: "Games", Q_: "G:/", wb_: "$EX/Games"],[Wmd: "Music", Q_: "E:/", wb_: "$EX/Music"],[Wmd: "Videos", Q_: "H:/", wb_: "$EX/Videos"]];def rpU = (ky.collect { it[zY ? "Q_" : "wb_"] as File }.sort { wWp, SS ->  wWp.exists() <=> SS.exists() ?: wWp.diskSpace <=> SS.diskSpace }).last();def qz = PC ?: rpU;"$qz/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}