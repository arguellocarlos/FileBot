{def gc = { System.getProperty(it) };def Xz = gc("os.name").toLowerCase().contains("windows");def YwY = gc("user.name");def SB = "/run/media/${YwY}";def _m = Xz ? "H:/" : "$SB/Videos";def nFR = [[lqN: "Books", pZ: "F:/", ot: "$SB/Books"],[lqN: "Data", pZ: "D:/", ot: "$SB/Data"],[lqN: "Games", pZ: "G:/", ot: "$SB/Games"],[lqN: "Music", pZ: "E:/", ot: "$SB/Music"],[lqN: "Videos", pZ: "H:/", ot: "$SB/Videos"]];def CAf = (nFR.collect { it[Xz ? "pZ" : "ot"] as File }.sort { Fb, ZK ->  Fb.exists() <=> ZK.exists() ?: Fb.diskSpace <=> ZK.diskSpace }).last();def NA = _m ?: CAf;"$NA/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}