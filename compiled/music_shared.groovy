{def eo = {System.getProperty(it)};def UNm = eo("os.name").toLowerCase().contains("windows");def qW = eo("user.name");def Oa = "/run/media/${qW}";def Rp = "";def Ie = [[Hd: "Books", b_: "F:/", _t: "$Oa/Books"],[Hd: "Data", b_: "D:/", _t: "$Oa/Data"],[Hd: "Games", b_: "G:/", _t: "$Oa/Games"],[Hd: "Music", b_: "E:/", _t: "$Oa/Music"],[Hd: "Videos", b_: "H:/", _t: "$Oa/Videos"]];def Uy = (Ie.collect {it[UNm ? "b_" : "_t"] as File}.sort {first, second -> first.exists() <=> second.exists() ?: first.diskSpace <=> second.diskSpace}).last().path;def Dh = Rp ?: Uy;"$Dh/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}