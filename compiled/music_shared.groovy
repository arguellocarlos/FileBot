{def Jrc = { System.getProperty(it) };def ukN = Jrc("os.name").toLowerCase().contains("windows");def rsm = Jrc("user.name");def YL = "/run/media/${rsm}";def IKk = ukN ? "H:/" : "$YL/Videos";def Yio = [[SDA: "Books", wmy: "F:/", zub: "$YL/Books"],[SDA: "Data", wmy: "D:/", zub: "$YL/Data"],[SDA: "Games", wmy: "G:/", zub: "$YL/Games"],[SDA: "Music", wmy: "E:/", zub: "$YL/Music"],[SDA: "Videos", wmy: "H:/", zub: "$YL/Videos"]];def QM = (Yio.collect { it[ukN ? "wmy" : "zub"] as File }.sort { DPj, KKf ->  DPj.exists() <=> KKf.exists() ?: DPj.diskSpace <=> KKf.diskSpace }).last();def QPs = IKk ?: QM;"$QPs/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}