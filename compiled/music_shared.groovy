{def pG = { System.getProperty(it) };def uC = pG("os.name").toLowerCase().contains("windows");def XgX = pG("user.name");def EJ = "/run/media/${XgX}";def BO = uC ? "H:/" : "$EJ/Videos";def lu = [[zO: "Books", CQ: "F:/", Lj: "$EJ/Books"],[zO: "Data", CQ: "D:/", Lj: "$EJ/Data"],[zO: "Games", CQ: "G:/", Lj: "$EJ/Games"],[zO: "Music", CQ: "E:/", Lj: "$EJ/Music"],[zO: "Videos", CQ: "H:/", Lj: "$EJ/Videos"]];def Eb = (lu.collect { it[uC ? "CQ" : "Lj"] as File }.sort { RG, uez ->  RG.exists() <=> uez.exists() ?: RG.diskSpace <=> uez.diskSpace }).last();def XpH = BO ?: Eb;"$XpH/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}