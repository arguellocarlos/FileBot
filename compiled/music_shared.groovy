{def pC = { System.getProperty(it) };def Do = pC("os.name").toLowerCase().contains("windows");def VNq = pC("user.name");def LwI = "/run/media/${VNq}";def RQJ = Do ? "H:/" : "$LwI/Videos";def ncr = [[Sy: "Books", zaI: "F:/", OU: "$LwI/Books"],[Sy: "Data", zaI: "D:/", OU: "$LwI/Data"],[Sy: "Games", zaI: "G:/", OU: "$LwI/Games"],[Sy: "Music", zaI: "E:/", OU: "$LwI/Music"],[Sy: "Videos", zaI: "H:/", OU: "$LwI/Videos"]];def qG = (ncr.collect { it[Do ? "zaI" : "OU"] as File }.sort { xrU, ia ->  xrU.exists() <=> ia.exists() ?: xrU.diskSpace <=> ia.diskSpace }).last();def wK = RQJ ?: qG;"$wK/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}