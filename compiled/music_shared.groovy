{def ROe = { System.getProperty(it) };def Be = ROe("os.name").toLowerCase().contains("windows");def TbB = ROe("user.name");def Ou = "/run/media/${TbB}";def Psl = Be ? "H:/" : "$Ou/Videos";def DU = [[tGA: "Books", FRe: "F:/", oQh: "$Ou/Books"],[tGA: "Data", FRe: "D:/", oQh: "$Ou/Data"],[tGA: "Games", FRe: "G:/", oQh: "$Ou/Games"],[tGA: "Music", FRe: "E:/", oQh: "$Ou/Music"],[tGA: "Videos", FRe: "H:/", oQh: "$Ou/Videos"]];def rnU = (DU.collect { it[Be ? "FRe" : "oQh"] as File }.sort { DQW, zyY ->  DQW.exists() <=> zyY.exists() ?: DQW.diskSpace <=> zyY.diskSpace }).last();def yRM = Psl ?: rnU;"$yRM/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}