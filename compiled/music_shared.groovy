{def mQ = { System.getProperty(it) };def sr = mQ("os.name").toLowerCase().contains("windows");def s_Y = mQ("user.name");def hrX = "/run/media/${s_Y}";def rD = sr ? "H:/" : "$hrX/Videos";def LV = [[Fm: "Books", mLT: "F:/", Er: "$hrX/Books"],[Fm: "Data", mLT: "D:/", Er: "$hrX/Data"],[Fm: "Games", mLT: "G:/", Er: "$hrX/Games"],[Fm: "Music", mLT: "E:/", Er: "$hrX/Music"],[Fm: "Videos", mLT: "H:/", Er: "$hrX/Videos"]];def Ujg = (LV.collect { it[sr ? "mLT" : "Er"] as File }.sort { hS, fFL ->  hS.exists() <=> fFL.exists() ?: hS.diskSpace <=> fFL.diskSpace }).last();def Ovw = rD ?: Ujg;"$Ovw/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}