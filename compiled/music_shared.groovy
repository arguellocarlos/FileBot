{def uGW = { System.getProperty(it) };def abI = uGW("os.name").toLowerCase().contains("windows");def rKz = uGW("user.name");def Y_S = "/run/media/${rKz}";def miR = abI ? "H:/" : "$Y_S/Videos";def MLa = [[yJ: "Books", _xN: "F:/", hl: "$Y_S/Books"],[yJ: "Data", _xN: "D:/", hl: "$Y_S/Data"],[yJ: "Games", _xN: "G:/", hl: "$Y_S/Games"],[yJ: "Music", _xN: "E:/", hl: "$Y_S/Music"],[yJ: "Videos", _xN: "H:/", hl: "$Y_S/Videos"]];def YdE = (MLa.collect { it[abI ? "_xN" : "hl"] as File }.sort { gT, YzP ->  gT.exists() <=> YzP.exists() ?: gT.diskSpace <=> YzP.diskSpace }).last();def yni = miR ?: YdE;"$yni/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}