{def JRY = { System.getProperty(it) };def ctr = JRY("os.name").toLowerCase().contains("windows");def Imd = JRY("user.name");def Zl = "/run/media/${Imd}";def aFz = ctr ? "H:/" : "$Zl/Videos";def Vlg = [[pJc: "Books", Lxc: "F:/", kh: "$Zl/Books"],[pJc: "Data", Lxc: "D:/", kh: "$Zl/Data"],[pJc: "Games", Lxc: "G:/", kh: "$Zl/Games"],[pJc: "Music", Lxc: "E:/", kh: "$Zl/Music"],[pJc: "Videos", Lxc: "H:/", kh: "$Zl/Videos"]];def Kqw = (Vlg.collect { it[ctr ? "Lxc" : "kh"] as File }.sort { FXy, VK ->  FXy.exists() <=> VK.exists() ?: FXy.diskSpace <=> VK.diskSpace }).last();def Mc = aFz ?: Kqw;"$Mc/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}