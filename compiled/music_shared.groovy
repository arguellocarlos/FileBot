{def mS = { System.getProperty(it) };def rk = mS("os.name").toLowerCase().contains("windows");def Uk = mS("user.name");def Va = "/run/media/${Uk}";def xi = rk ? "H:/" : "$Va/Videos";def Dh = [[dJe: "Books", xC: "F:/", BG: "$Va/Books"],[dJe: "Data", xC: "D:/", BG: "$Va/Data"],[dJe: "Games", xC: "G:/", BG: "$Va/Games"],[dJe: "Music", xC: "E:/", BG: "$Va/Music"],[dJe: "Videos", xC: "H:/", BG: "$Va/Videos"]];def aB = (Dh.collect { it[rk ? "xC" : "BG"] as File }.sort { TW, AJw ->  TW.exists() <=> AJw.exists() ?: TW.diskSpace <=> AJw.diskSpace }).last();def JVf = xi ?: aB;"$JVf/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}