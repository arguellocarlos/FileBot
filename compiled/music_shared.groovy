{def Gh = { System.getProperty(it) };def xtJ = Gh("os.name").toLowerCase().contains("windows");def _Pu = Gh("user.name");def VBZ = "/run/media/${_Pu}";def Qde = xtJ ? "H:/" : "$VBZ/Videos";def KXT = [[F_: "Books", mhj: "F:/", PE: "$VBZ/Books"],[F_: "Data", mhj: "D:/", PE: "$VBZ/Data"],[F_: "Games", mhj: "G:/", PE: "$VBZ/Games"],[F_: "Music", mhj: "E:/", PE: "$VBZ/Music"],[F_: "Videos", mhj: "H:/", PE: "$VBZ/Videos"]];def NM = (KXT.collect { it[xtJ ? "mhj" : "PE"] as File }.sort { qyQ, AM ->  qyQ.exists() <=> AM.exists() ?: qyQ.diskSpace <=> AM.diskSpace }).last();def gLn = Qde ?: NM;"$gLn/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}