{def NvO = { System.getProperty(it) };def RzP = NvO("os.name").toLowerCase().contains("windows");def dT = NvO("user.name");def oA = "/run/media/${dT}";def hf = RzP ? "H:/" : "$oA/Videos";def uGR = [[Bh: "Books", zQ: "F:/", xd: "$oA/Books"],[Bh: "Data", zQ: "D:/", xd: "$oA/Data"],[Bh: "Games", zQ: "G:/", xd: "$oA/Games"],[Bh: "Music", zQ: "E:/", xd: "$oA/Music"],[Bh: "Videos", zQ: "H:/", xd: "$oA/Videos"]];def KJk = (uGR.collect { it[RzP ? "zQ" : "xd"] as File }.sort { yTI, gzA ->  yTI.exists() <=> gzA.exists() ?: yTI.diskSpace <=> gzA.diskSpace }).last();def sTk = hf ?: KJk;"$sTk/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}