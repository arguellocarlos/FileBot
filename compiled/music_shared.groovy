{def Qr = { System.getProperty(it) };def NV = Qr("os.name").toLowerCase().contains("windows");def yLb = Qr("user.name");def dj = "/run/media/${yLb}";def ikz = NV ? "H:/" : "$dj/Videos";def heH = [[Trj: "Books", WdY: "F:/", emE: "$dj/Books"],[Trj: "Data", WdY: "D:/", emE: "$dj/Data"],[Trj: "Games", WdY: "G:/", emE: "$dj/Games"],[Trj: "Music", WdY: "E:/", emE: "$dj/Music"],[Trj: "Videos", WdY: "H:/", emE: "$dj/Videos"]];def RZ = (heH.collect { it[NV ? "WdY" : "emE"] as File }.sort { GIN, JY ->  GIN.exists() <=> JY.exists() ?: GIN.diskSpace <=> JY.diskSpace }).last();def VKQ = ikz ?: RZ;"$VKQ/"}{"Torrent Uploads/"}{ext.upper()}{"/"}{y}{"/["}{d.format("yyyy.MM.dd")}{"] "}{album}{" - "}{n}{" ["}{ext.upper()}{ext == "flac" ? " " + "${ bitdepth > 16 ? bitdepth + '-' : ''}" + khz : ext == "mp3" && media.get("OverallBitRate/String") != "320 kbps" ? " V0" : ""}{"]"}{media.CATALOGNUMBER ? "[" + media.CATALOGNUMBER + "]" : ""}{"/"}{dc > 1 ? "Disc " + di + "/" : ""}{dc? di + "-": ""}{pi.pad(2)}{" "}{t}